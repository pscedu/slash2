.\" $Id$
.\" %PSCGPL_START_COPYRIGHT%
.\" -----------------------------------------------------------------------------
.\" Copyright (c) 2009-2012, Pittsburgh Supercomputing Center (PSC).
.\"
.\" Permission to use, copy, and modify this software and its documentation
.\" without fee for personal use or non-commercial use within your organization
.\" is hereby granted, provided that the above copyright notice is preserved in
.\" all copies and that the copyright and this permission notice appear in
.\" supporting documentation.  Permission to redistribute this software to other
.\" organizations or individuals is not permitted without the written permission
.\" of the Pittsburgh Supercomputing Center.  PSC makes no representations about
.\" the suitability of this software for any purpose.  It is provided "as is"
.\" without express or implied warranty.
.\" -----------------------------------------------------------------------------
.\" %PSC_END_COPYRIGHT%
.Dd August 14, 2012
.Dt SLMKJRNL 8
.ds volume PSC \- SLASH Administrator's Manual
.Os http://www.psc.edu/
.Sh NAME
.Nm slmkjrnl
.Nd create
.Tn SLASH
metadata server operations journal
.Sh SYNOPSIS
.Nm slmkjrnl
.Op Fl fqv
.Op Fl b Ar block-device
.Op Fl D Ar datadir
.Op Fl n Ar nentries
.Sh DESCRIPTION
The
.Nm
utility creates and formats the pending operations journal for
.Tn SLASH
metadata servers.
.Pp
The following options are available:
.Bl -tag -width Ds
.It Fl b Ar block-device
Specify a raw device as the journal target instead of a regular file.
This option is incompatible with
.Fl D .
This is the recommended setup for performance reasons.
.It Fl D Ar datadir
Specify an alternative directory where operation data is stored.
Defaults to
.Pa /var/lib/slash .
The journal file is always named
.Pa op-journal .
.It Fl f
Format the operations journal.
.It Fl n Ar nentries
Specify the number of journal entries.
Defaults to 131072.
.It Fl q
Query and display current journal information.
No formatting is performed.
.It Fl v
Display verbose information about activity performed.
.El
.Sh FILES
.Bl -tag -width Pa -compact
.It Pa /var/lib/slash/op-journal
journal file for pending operations
.El
.Sh SEE ALSO
.Xr sladm 7 ,
.Xr slashd 8
